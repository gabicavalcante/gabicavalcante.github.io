<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>gabi cavalcante/posts/python-django-cicd/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://gabicavalcante.github.io/hugo-theme-console/css/terminal-0.7.1.min.css">
    <link rel="stylesheet" href="https://gabicavalcante.github.io/hugo-theme-console/css/animate-3.7.2.min.css">
    <link rel="stylesheet" href="https://gabicavalcante.github.io/hugo-theme-console/css/console.css">
    <style>
        pre { 
          background-color: white !important;
        }
    </style>
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <meta property="og:title" content="Python, Django and GitHub CI/CD" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gabicavalcante.github.io/posts/python-django-cicd/" /><meta property="article:published_time" content="2019-09-30T00:00:00+00:00" />



<meta name="twitter:title" content="Python, Django and GitHub CI/CD"/>
<meta name="twitter:description" content=""/>

</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://gabicavalcante.github.io/" class="no-style site-name">gabi cavalcante</a>:~# 
              <a href='https://gabicavalcante.github.io/posts'>posts</a>/<a href='https://gabicavalcante.github.io/posts/python-django-cicd'>python-django-cicd</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://gabicavalcante.github.io/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://gabicavalcante.github.io/posts/" typeof="ListItem">posts/</a></li>
                
                <li><a href="https://gabicavalcante.github.io/cv/" typeof="ListItem">cv/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated zoomIn fast">
        
<h1>Python, Django and GitHub CI/CD</h1>

Sep. 30, 2019

    // <a href="https://www.linkedin.com/in/gabrielacavalcante/">Linkedin</a>


    // <a href="https://www.twitter.com/_gabiCavalcante">Twitter</a>


    // <a href="https://www.github.com/gabicavalcante">Github</a>

<br/><br/>
<ul>
<li>Local project setup</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
f <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>relplot(data<span style="color:#f92672">=</span>long_centered_mean_stl_ma<span style="color:#f92672">.</span>query(<span style="color:#e6db74">&#34;locality_name == &#39;Lombardia&#39; and category==&#39;parks&#39;&#34;</span>), x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;date&#34;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value&#34;</span>, hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;variable&#34;</span>,
                col<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;locality_name&#34;</span>, col_wrap<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;line&#34;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>, legend<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;brief&#34;</span>, aspect<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, 
                  markers<span style="color:#f92672">=</span>True, dashes<span style="color:#f92672">=</span>True, facet_kws<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;sharey&#39;</span>: True, <span style="color:#e6db74">&#39;sharex&#39;</span>: False})

f<span style="color:#f92672">.</span>_legend<span style="color:#f92672">.</span>remove()
 
plt<span style="color:#f92672">.</span>subplots_adjust(<span style="color:#75715e">#left=0.125,</span>
                    bottom<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>, 
                    <span style="color:#75715e">#right=0.9, </span>
                    top<span style="color:#f92672">=</span><span style="color:#ae81ff">0.9</span>, 
                    <span style="color:#75715e">#wspace=0.2, </span>
                    hspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0.35</span>
                    )

<span style="color:#75715e"># Iterate thorugh each axis</span>
<span style="color:#66d9ef">for</span> ax <span style="color:#f92672">in</span> f<span style="color:#f92672">.</span>axes:
    ax<span style="color:#f92672">.</span>set(xlabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Date&#39;</span>, ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Value&#39;</span>) 

    handles, labels <span style="color:#f92672">=</span> ax<span style="color:#f92672">.</span>get_legend_handles_labels()
    <span style="color:#75715e">#if handles:</span>
    set_labels <span style="color:#f92672">=</span> [l<span style="color:#f92672">.</span>capitalize() <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> labels[<span style="color:#ae81ff">1</span>:]]
    ax<span style="color:#f92672">.</span>legend(
        labels<span style="color:#f92672">=</span>set_labels, 
        title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>, 
        fancybox<span style="color:#f92672">=</span>True, 
        framealpha<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, 
        <span style="color:#75715e">#shadow=True, </span>
        borderpad<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, 
        loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;upper left&#39;</span>, 
        fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, 
        <span style="color:#75715e">#frameon=False, </span>
        handleheight <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.1</span>,
      )

    <span style="color:#75715e"># Make x and y-axis labels slightly larger</span>
    ax<span style="color:#f92672">.</span>set_xlabel(ax<span style="color:#f92672">.</span>get_xlabel(), fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>)
    ax<span style="color:#f92672">.</span>set_ylabel(ax<span style="color:#f92672">.</span>get_ylabel(), fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>)

    <span style="color:#75715e">#set ticks every week</span>
    ax<span style="color:#f92672">.</span>xaxis<span style="color:#f92672">.</span>set_major_locator(mdates<span style="color:#f92672">.</span>WeekdayLocator())
    <span style="color:#75715e">#set major ticks format</span>
    ax<span style="color:#f92672">.</span>xaxis<span style="color:#f92672">.</span>set_major_formatter(mdates<span style="color:#f92672">.</span>DateFormatter(<span style="color:#e6db74">&#39;%b&#39;</span>))
    ax<span style="color:#f92672">.</span>xaxis<span style="color:#f92672">.</span>set_major_locator(mdates<span style="color:#f92672">.</span>WeekdayLocator(interval<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>))

    <span style="color:#75715e"># Make title more human-readable and larger</span>
    <span style="color:#66d9ef">if</span> ax<span style="color:#f92672">.</span>get_title():
        ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;&#34;</span>)

    <span style="color:#75715e"># Make right ylabel more human-readable and larger </span>
    <span style="color:#66d9ef">if</span> ax<span style="color:#f92672">.</span>texts:
        <span style="color:#75715e"># This contains the right ylabel text</span>
        txt <span style="color:#f92672">=</span> ax<span style="color:#f92672">.</span>texts[<span style="color:#ae81ff">0</span>]
        ax<span style="color:#f92672">.</span>text(txt<span style="color:#f92672">.</span>get_unitless_position()[<span style="color:#ae81ff">0</span>], txt<span style="color:#f92672">.</span>get_unitless_position()[<span style="color:#ae81ff">1</span>],
                txt<span style="color:#f92672">.</span>get_text()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;=&#39;</span>)[<span style="color:#ae81ff">1</span>],
                transform<span style="color:#f92672">=</span>ax<span style="color:#f92672">.</span>transAxes,
                va<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>,
                fontsize<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;xx-large&#39;</span>)
        <span style="color:#75715e"># Remove the original text</span>
        ax<span style="color:#f92672">.</span>texts[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>remove()
        

restriction_date <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(<span style="color:#e6db74">&#39;2020-02-23&#39;</span>, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>) 
ease_restriction_date <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(<span style="color:#e6db74">&#34;2020-05-11&#34;</span>, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)

plt<span style="color:#f92672">.</span>axvline(restriction_date, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;k&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dashed&#39;</span>, linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
plt<span style="color:#f92672">.</span>axvline(ease_restriction_date, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;k&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dashed&#39;</span>, linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)

plt<span style="color:#f92672">.</span>tick_params(axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;both&#39;</span>,labelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">13</span>)

axes <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>gca() 
axes<span style="color:#f92672">.</span>set_ylim([<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">220</span>])
</code></pre></div>


        <div class="footer">
    Powered by <a href="https://gohugo.io/">Hugo</a> with
    <a href="https://github.com/mrmierzejewski/hugo-theme-console/">Console Theme</a>. 
</div>

    </div>
  </body>
</html>
